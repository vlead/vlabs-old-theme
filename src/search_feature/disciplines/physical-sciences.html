<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Welcome to Virtual Labs - A MHRD Govt of india Initiative">
    <meta name="author" content="Virtual Labs - A MHRD Govt of india Initiative">
    <title>Welcome to Virtual Labs - A MHRD Govt of india Initiative</title>
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="css/owl_002.css">
    <link rel="stylesheet" href="css/owl.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="files/bootstrap.css">
    <link rel="stylesheet" href="files/font-awesome.css">
    <link rel="stylesheet" href="files/bootsnipp.css">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <!-- Important Owl stylesheet -->
    <link rel="stylesheet" href="../vendors/owl-carousel/owl.carousel.css">
    <link rel="stylesheet" href="../vendors/owl-carousel/owl.theme.css">
    <link rel="stylesheet" href="../vendors/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="files/bootstrap.css">
    <link rel="stylesheet" href="files/font-awesome.css">
    <link rel="stylesheet" href="files/bootsnipp.css">
    <!-- Custom CSS -->
    <link href="./css/style.css" rel="stylesheet">
    <title>analytics</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js"></script>
    <script type="text/template" id="tpl-html">
      <% _.each( target, function(i) {%>
      <div style="margin-top: 20px; " class="lab-list-row-div">
	<div class="col-md-12">
	  <p class="text-h3-darkblue"><a href="<%= i.hosting_info[0].hosted_url %>"><%= i.lab_name %></a></p></div>
      </div>
      <% }); %>
    </script>
</div>

<script>
  function generateTopLabs() {
  var jqxhr = $.getJSON('http://lds.vlabs.ac.in/labs?discipline_name=Physical Sciences', function(data) {
  var data = { target: data };
  console.log(data);
  var template = _.template( $("#tpl-html").text() );
  $("#output").html( template(data) );
  })
  .error(function(jqxhr, textStatus, errorThrown) {
  console.log("error " + textStatus);
  console.log("incoming Text " + jqxhr.responseText);
  });
  }
</script>

<!--- onload function--->
<script>
var loadIndex = function() {
  on_mouse_hover();
  insertFooterIframe();
  setFooterUrlToFooterIframe();
  populateDisciplineDropDownBox();
  populateInstituteDropDownBox();
  displayAllDisciplines();
  enableAllLabsButton();
  displayBtnsForAuthentication();
  fillDataAndSetEventForLogUsage();
  fillDataAndSetEventForWsUsage();
};

var disciplinePromise;
var getDisciplines = function() {
  disciplinePromise = disciplinePromise || getJSON(disResPath);

  return disciplinePromise.then(function(disciplines) {
    return disciplines;
  });
}

var institutePromise;
var getInstitutes = function() {
  institutePromise = institutePromise || getJSON(instResPath);
  return institutePromise.then(function(institutes) {
    return institutes;
  });
}

var labPromise;
var getLabs = function() {
  labPromise = labPromise || getJSON(labResPath);
  return labPromise.then(function(labs) {
    return labs;
  });
}

var filterQuery = function(ls, id) {
  return ls.filter(function(el) {
    return el.id == id;
  });
};


var labsByDisciplinePromises = [];
var getLabsByDiscipline = function(discId) {
  var labByDiscResPath = labsByDiscUrl + discId
  var searchList = filterQuery(labsByDisciplinePromises, discId);
  var labsByDiscPromise;
  if (searchList.length == 0) {
    labsByDiscPromise = getJSON(labByDiscResPath);
    labsByDisciplinePromises.push({'id': discId, 'promise': labsByDiscPromise});
  } else {
    labsByDiscPromise = searchList[0].promise;
  }

  return labsByDiscPromise.then(function(labs) {
    return labs;
  });
};


var labsByInstitutePromises = [];
var getLabsByInstitute = function(instId) {
  var labByInstResPath = labsByInstUrl + instId;
  var searchList = filterQuery(labsByInstitutePromises, instId);
  var labsByInstPromise;
  if (searchList.length == 0) {
    labsByInstPromise = getJSON(labByInstResPath);
    labsByInstitutePromises.push({'id': instId, 'promise': labsByInstPromise});
  } else {
    labsByInstPromise = searchList[0].promise;
  }

  return labsByInstPromise.then(function(labs) {
    return labs;
  });
};



var displayLabsOfDiscipline = function(discId) {
 getLabsByDiscipline(discId)
    .then(filterLabsByPhase)
    .then(buildLabsDisplayList)
    .then(setContentInContentDiv)
    .catch(function(err) {
      console.log("Error from displayLabsOfDiscipline: " + err);
    });
};

var getTheRightUrl = function(hostingInfos) {
  var filterHostingInfo = function(hostingInfos, key) {
    return hostingInfos.filter(function(hostingInfo) {
      return hostingInfo.hosted_on == key;
    });
  };

  var getAtleastOneHostingInfo = function(hostingInfos) {
    var filteredHostingInfos = filterHostingInfo(hostingInfos, firstChoiceUrl);

    if (filteredHostingInfos.length == 0) {
      filteredHostingInfos = filterHostingInfo(hostingInfos, secondChoiceUrl);
    }

    if (filteredHostingInfos.length == 0) {
      filteredHostingInfos = filterHostingInfo(hostingInfos, thirdChoiceUrl);
    }

    if (filteredHostingInfos.length > 0) {
      return filteredHostingInfos[0];
    } else {
      return null;
    }
  };

  var hostedUrl = "";
  var hostingInfo = getAtleastOneHostingInfo(hostingInfos);
  if (hostingInfo != null) {
    if (hostingInfo['hosted_on'] == openEdxHosted) {
      hostedUrl = modifyUrl(hostingInfo['hosted_url']);
    } else {
      hostedUrl = hostingInfo['hosted_url'];
    }
  }
  return hostedUrl;
};

var displayLabsOfInstitute = function(instId) {
 getLabsByInstitute(instId)
    .then(filterLabsByPhase)
    .then(buildLabsDisplayList)
    .then(setContentInContentDiv)
    .catch(function(err) {
      console.log("Error from displayLabsOfInstitute: " + err);
    });
};












</script>

<!---onload function ends---->




<!--common start header code-->
<script src="js/jquery.js"></script>
	    <div id="headermerge"> </div>
<script type="text/javascript">
  $(document).ready(function() {
   $("#headermerge").load("https://info.vlabs.ac.in/common/header/header.html");
   });
</script>
<!--common header code end here-->
</head>
<body id="page-top" class="index" onload="generateTopLabs()">
  <div id="top">
    <header>
    </header>
    <!==================================Disciplines sidebar starts from here===============================>
        <div class="container-fluid" style="margin-left: 35px; margin-right: 35px; padding-top:102px;">
            <h2 class="text-h2-lightblue" style=" margin-bottom: 20px; margin-top: 30px; ">Disciplines and Domains</h2>
            <div class="row">
	      <div class="col-md-2 sidebar-col-2">
		<a href="./electronics-communications.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; "> Electronics &amp; Communications</h3>
		</a>
		<a href="./computer-science.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; "> Computer Science &amp; Engineering</h3>
		</a>
		<a href="./electrical-engineering.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; "> Electrical Engineering</h3>
		</a>
		<a href="./mechanical-engineering.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; "> Mechanical Engineering</h3>
		</a>
		<a href="./chemical-engineering.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; "> Chemical Engineering</h3>
		</a>
		<a href="./biotechnology-and-biomedical-engineering.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; " > Biotechnology &amp; Biomedical Engineering</h3>
		</a>
		<a href="./civil-engineering.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; "> Civil Engineering</h3>
		</a>
		<a href="./physical-sciences.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px; color: #ff6600;"> Physical Sciences</h3>
		</a>
		<a href="./chemical-sciences.html" class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px;"> Chemical Sciences</h3>
		</a>
		<a href="./other-disciplines.html"class="sidebar-a">
		  <h3 class="text-h3-darkblue" style="margin-top: 2px;"> Other Disciplines</h3>
		</a>
                <div class="contactus">
                  <span class="text-normal-gray-smallest"> Contact</span>
                  <p class="contectus-gray-smallest"> Prof. Anjan Kumar Gupta
                    anjankg@iitk.ac.ins
                  </p>
                </div>
              </div>
              <div class="col-md-10 lab-list-col-10">
                <img src="images/icon_8.png">
                <span class="text-normal-gray-big"> Physical Sciences </span>
		<br>
		<p class="text-normal-gray-smallest">
		</p>
		<ol>
		  <li class="text-normal-gray-smallest" style="text-align: justify;">In order to derive maximum learning experience, the users are advised to first read the step-by-step instruction availiable in each lab before performing the experiments.</li>
		  <li class="text-normal-gray-smallest" style="text-align: justify;"> Some 
		    labs may require users to install plug-in. Follow the <a href="https://info.vlabs.ac.in/search_feature/PreRequisites/" class="nounderline">link</a> to view the mapping of the labs to their pre-requisites. 
		  </li>
		  <li class="text-normal-gray-smallest" style="text-align: justify;">Some labs may require users to log in.</li>
		  <!--<li class="text-normal-gray-smallest" style="text-align: justify;">Related NPTEL lectures are also available on the link given below.</li>-->
		</ol>
		<p>
		</p>
		<div class="col-md-12">
		  <div style="margin-top: 20px; " >
		    <div class="col-md-12" id="output">
		    </div>
		  </div>
		</div>
              </div>
	    </div>
	</div>
  </div>
  
  <!-- content div -->
  <div id="footermerge"> </div>
  <script type="text/javascript">
    $(document).ready(function() {
    $("#footermerge").load("https://footer.vlabs.ac.in/footer");
    });
  </script>
  
  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.js"></script>
  <!-- Custom Theme JavaScript -->
  <script src="js/custom.js"></script>
  <!-- Include js plugin -->
  <!--POPUP-->
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script> 
  
</body>
</html>
